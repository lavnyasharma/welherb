<div class="reviews-section">
  <div
    class=""
    style="display: flex; justify-content: space-between; margin-bottom: 60px"
  >
    <div class="reviews-header">
      <h2 class="reviews-title">
        <span class="trust-text">Trust</span> that we have earned
      </h2>
      <p class="reviews-subtitle">
        By bringing measurable results that show up in your reports and your
        body.
      </p>
    </div>
    <div class="">
      <div class="" *ngIf="showReadMore">
        <app-button
          label="Read More"
          iconSrc="assets/Vector (1).svg"
          class="read-more-btn-wrapper"
        ></app-button>
      </div>
    </div>
  </div>

  <div class="carousel-container" (wheel)="onWheel($event)">
    <div class="carousel-track" #carouselTrack>
      <div
        *ngFor="let review of displayReviews"
        class="review-card"
        [ngClass]="
          review.type === 'esr' ? 'review-card-esr' : 'review-card-digestick'
        "
      >
        <!-- ESR Card (Large Blue - Center Style) -->
        <ng-container *ngIf="review.type === 'esr'">
          <div class="card-frame-blue">
            <div class="card-inner-white">
              <div class="reviewer-info-top-center">
                <img
                  [src]="review.image"
                  [alt]="review.name"
                  class="reviewer-image"
                />
                <div class="reviewer-details">
                  <h3 class="reviewer-name">{{ review.name }}</h3>
                  <p class="reviewer-benefit">{{ review.benefit }}</p>
                </div>
              </div>

              <hr class="card-divider" />

              <div class="review-content-center">
                <div class="rating">
                  <img
                    *ngFor="let star of getStars(review.rating)"
                    src="assets/Vector (4).svg"
                    alt="star"
                    class="star-icon"
                  />
                </div>
                <blockquote class="review-quote">
                  "{{ review.quote }}"
                </blockquote>
              </div>
            </div>
          </div>
        </ng-container>

        <!-- Digestick Card (Small Green - Side Style) -->
        <ng-container *ngIf="review.type === 'digestick'">
          <div class="card-frame-green">
            <div class="card-content-side">
              <div class="rating">
                <img
                  *ngFor="let star of getStars(review.rating)"
                  src="assets/Vector (2).svg"
                  alt="star"
                  class="star-icon"
                />
              </div>

              <blockquote class="review-quote">"{{ review.quote }}"</blockquote>

              <div class="reviewer-info-pill">
                <img
                  [src]="review.image"
                  [alt]="review.name"
                  class="reviewer-image"
                />
                <div class="reviewer-details">
                  <h3 class="reviewer-name">{{ review.name }}</h3>
                  <p class="reviewer-benefit">{{ review.benefit }}</p>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <div
      class="progress-line"
      #progressLine
      [style.--progress-position]="progressPosition + '%'"
      (click)="onProgressClick($event)"
      (mousedown)="onProgressMouseDown($event)"
    ></div>
  </div>
</div>
