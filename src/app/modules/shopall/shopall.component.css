/* Shop Container */
.shop-container {
  padding: 20px;
  min-height: calc(100vh - 140px);
  background-color: #fcf8f4;
}
.heromage {
  width: 100%;
  height: auto;
}
/* Desktop Filter Header */
.desktop-filter-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  /* background: #fcf8f4; */
  border-radius: 8px;
}

/* Mobile Filter Header */
.mobile-filter-header {
  display: none;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background: #fcf8f3;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.filter-toggle-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  background: none;
  border: none;
  color: #666;
  padding: 10px 16px;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  min-height: 44px;
}

.filter-count {
  background: var(--color-cta);
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: bold;
}

.results-count {
  color: #666;
  font-weight: 500;
}

.view-options {
  display: flex;
  gap: 4px;
  padding: 4px;
  border-radius: 8px;
}

.view-btn {
  padding: 8px 12px;
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: #666;
  transition: all 0.3s ease;
}

.view-btn:hover,
.view-btn.active {
  background: transparent;
  border-color: #ddd; /* Keep same as default or make transparent? Image shows no border for active item (middle one) but items around it have border. Wait, middle one HAS NO BORDER? The image shows left and right items with border, middle one without border. Okay, user text: "just ifht the active no ned border and all". Typo "ifht" -> "light"? "highlight"? "fix"? "just fix the active no need border and all". Okay, removing border for active. */
  border: 1px solid transparent;
}

/* Category Navigation */
.view-btn img {
  width: 20px;
  height: 20px;
  object-fit: contain;
}

.category-nav {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 40px;
  padding: 30px 0;
  border-bottom: 1px solid #eee;
  margin-bottom: 30px;
}

.category-btn {
  background: none;
  border: none;
  color: #333;
  font-family: "Lato", sans-serif !important;
  font-size: 16px;
  font-weight: 400; /* Normal weight for inactive */
  padding-bottom: 5px;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
}

.category-btn.active {
  font-weight: 600; /* Bold for active */
  color: #333;
}

.category-btn.active::after {
  content: "";
  position: absolute;
  bottom: -1px; /* Align with border-bottom of container if needed, or just below text */
  left: 0;
  width: 100%;
  height: 2px;
  background: #aaa; /* Gray underline as per image */
}

.dropdown {
  position: relative;
}

.dropdown-toggle {
  display: flex;
  align-items: center;
  gap: 5px;
}

.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  background: white;
  min-width: 160px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  padding: 8px 0;
  z-index: 100;
  border: 1px solid #eee;
}

.dropdown-item {
  width: 100%;
  padding: 10px 16px;
  text-align: left;
  background: none;
  border: none;
  font-family: "Lato", sans-serif !important;
  font-size: 14px;
  color: #333;
  cursor: pointer;
  transition: background 0.2s;
}

.dropdown-item:hover {
  background-color: #f9f9f9;
}

.sidebar-overlay {
  display: none;
}

/* Main Layout */
.main-layout {
  display: flex;
  align-items: flex-start;
  position: relative;
}

/* Sidebar Styling */
.sidebar {
  font-family: "Lato", sans-serif !important;
  width: 0;
  flex: 0 0 0;
  opacity: 0;
  transition: width 0.3s ease, flex 0.3s ease, margin-right 0.3s ease,
    opacity 0.2s ease;
  overflow: hidden;
  margin-right: 0;
  min-width: 0;
  position: -webkit-sticky; /* Safari */
  position: sticky;
  top: 100px;
  align-self: flex-start;
  max-height: calc(100vh - 120px);
  overflow-y: auto;
}

.sidebar.desktop-active {
  width: 250px;
  flex: 0 0 250px;
  opacity: 1;
  margin-right: 30px;
}

.filter-group {
  width: 250px; /* Prevent content reflow during transition */
  margin-bottom: 25px;
  white-space: nowrap;
}

.filter-group-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  cursor: pointer;
}

.filter-group-header span {
  font-weight: 600;
  color: #444;
  font-size: 14px;
}

.filter-group-header i {
  font-size: 12px;
  color: #666;
}

.checkbox-container {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  cursor: pointer;
}

.checkbox-container input {
  display: none;
}

.checkmark {
  width: 18px;
  height: 18px;
  border: 1px solid #888;
  border-radius: 4px;
  margin-right: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;
  transition: all 0.2s;
}

.checkmark.active {
  background: #0099ff; /* Blue active color as per image reference */
  border-color: #0099ff;
}

/* Override for specified categories if image showed different color */
.checkmark.active {
  background: #2196f3;
  border-color: #2196f3;
}

.filter-label {
  color: #555;
  font-size: 14px;
  font-family: "Lato", sans-serif !important;
}

/* Price Slider Overrides */
.price-slider::-webkit-slider-thumb {
  background: var(--color-cta);
}

/* Price Slider */
.price-slider-container {
  margin-top: 16px;
}

.price-slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: #ddd;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  margin-bottom: 16px;
}

.price-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-cta);
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.price-slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-cta);
  cursor: pointer;
  border: none;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.price-display {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
}

.price-current {
  color: var(--color-cta);
  font-weight: bold;
  background: #f0f8f0;
  padding: 4px 8px;
  border-radius: 4px;
}

/* Mobile Apply Button */
.mobile-apply-filters {
  display: none;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid #eee;
}

.apply-filters-btn {
  width: 100%;
  background: var(--color-cta);
  color: white;
  border: none;
  padding: 14px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.apply-filters-btn:hover {
  background: #1d8d3a;
}

/* Main Content */
.main-content {
  flex: 1;
  min-width: 0;
}

/* Breadcrumb */
.breadcrumb {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
  color: #666;
  font-size: 0.9rem;
}

.breadcrumb a {
  color: var(--color-cta);
  text-decoration: none;
  transition: color 0.3s ease;
}

.breadcrumb a:hover {
  color: #1d8d3a;
}

.breadcrumb i {
  color: #ccc;
  font-size: 0.8rem;
}

/* Active Filters */
.active-filters {
  margin-bottom: 20px;
}

.filter-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.filter-tag {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--color-cta);
  color: white;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 500;
}

.filter-tag button {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  padding: 2px;
  border-radius: 50%;
  transition: background 0.3s ease;
}

.filter-tag button:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Results Header */
.results-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  padding: 0;
}

.results-header h2 {
  margin: 0;
  color: #3a3938;
  font-size: 2rem;
  font-weight: 600;
}

/* Product Grid - Desktop Defaults */
.product-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* Default to 3 */
  gap: 20px;
  width: 100%;
}

.product-grid.grid-2 {
  grid-template-columns: repeat(2, 1fr) !important;
}

.product-grid.grid-3 {
  grid-template-columns: repeat(3, 1fr) !important;
}

.product-grid.grid-4 {
  grid-template-columns: repeat(4, 1fr) !important;
}

.results-count-desktop {
  color: #666;
  font-weight: 500;
  display: block;
}

/* Loading State */
.loading-state {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 60px 20px;
  background: #fcf8f3;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

/* Standardized Simple Spinner */
.loading-spinner {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
}

.simple-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid var(--color-cta); /* Theme Color */
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.loading-spinner p {
  margin: 0;
  font-size: 1.1rem;
  color: #666;
  font-family: inherit;
}

/* No Products */
/* No Products */
.no-products {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 80px 40px;
  background: white;
  min-height: 400px;
  border-radius: 16px;
  /* border: 1px dashed #e0e0e0; */ /* Optional: dashed border for empty state look */
}

.no-products-content {
  text-align: center;
  max-width: 450px;
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.no-products-content > i {
  font-size: 3rem;
  color: #a0a0a0;
  margin-bottom: 24px;
  background: #f5f5f5;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

/* Ensure button icon is normal size */
.clear-filters-btn i {
  font-size: 1rem;
  margin: 0;
  width: auto;
  height: auto;
  background: none;
  color: inherit;
}

.no-products-content h3 {
  margin: 0 0 12px 0;
  color: #222;
  font-size: 1.75rem;
  font-weight: 700;
  font-family: "Lato", sans-serif !important;
}

.no-products-content p {
  margin: 0 0 32px 0;
  color: #666;
  font-size: 1.1rem;
  line-height: 1.6;
  font-family: "Lato", sans-serif !important;
}

.clear-filters-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background: var(--color-cta);
  color: white;
  border: 2px solid var(--color-cta);
  padding: 12px 32px;
  border-radius: 50px;
  font-weight: 600;
  font-size: 1rem;
  font-family: "Lato", sans-serif !important;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(36, 176, 75, 0.2);
}

.clear-filters-btn:hover {
  background: #1d8d3a;
  border-color: #1d8d3a;
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(36, 176, 75, 0.3);
}

@media (max-width: 768px) {
  .shop-container {
    padding: 10px;
  }

  /* Force 2 columns on mobile/tablet unless very small */
  .product-grid,
  .product-grid.grid-3,
  .product-grid.grid-4 {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  /* Hide Desktop specific elements */
  .desktop-filter-header {
    display: none;
  }

  /* Show Mobile Header */
  .mobile-filter-header {
    display: flex;
  }

  .mobile-apply-filters {
    display: block;
    position: sticky;
    bottom: 0;
    background: white;
    padding: 16px;
    border-top: 1px solid #eee;
    z-index: 10;
  }

  /* Sidebar Drawer for Mobile */
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    height: 100vh;
    max-height: 100vh;
    background: white;
    z-index: 1005;
    width: 300px; /* Drawer width */
    max-width: 85vw;
    padding: 20px;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
    transform: translateX(-100%);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    overflow-y: auto;
    margin-right: 0;
    display: block; /* Ensure it's not hidden by width: 0 if logic differs */
  }

  .sidebar.mobile-active {
    transform: translateX(0);
    width: 300px;
    flex: 0 0 300px;
    opacity: 1;
  }

  .sidebar-overlay {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1004;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s;
  }

  .sidebar-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  /* Category Nav - Scrollable */
  .category-nav {
    justify-content: flex-start;
    overflow-x: auto;
    padding: 15px 0;
    gap: 20px;
    margin-bottom: 20px;
    /* Hide scrollbar */
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .category-nav::-webkit-scrollbar {
    display: none;
  }

  .category-btn {
    white-space: nowrap;
    flex-shrink: 0;
  }
}

@media (max-width: 480px) {
  /* Smaller mobile: still 2 columns but maybe smaller gap? */
  .product-grid {
    gap: 10px;
  }

  .product-card {
    padding: 10px;
  }

  .product-name {
    font-size: 0.9rem;
  }

  .current-price {
    font-size: 1rem;
  }
}

/* Product Card */
.product-card {
  /* background: white; */
  border-radius: 12px;
  padding: 16px;
  position: relative;
  transition: all 0.3s ease;
  /* box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); */
  cursor: pointer;
  display: flex;
  flex-direction: column;
  height: 100%;
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.05);
}

/* Image Container */
.image-container {
  position: relative;
  width: 100%;
  padding-top: 100%; /* Changed from 75% to 100% for better bottle display */
  margin-bottom: 16px;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  background: var(--color-background);
}

.product-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: contain; /* Changed from cover to contain to show full bottle */
  transition: transform 0.3s ease;
  padding: 8px; /* Add padding to prevent bottle from touching edges */
  box-sizing: border-box;
}

/* Product Details */
.product-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.product-name {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  color: #3a3938;
  line-height: 1.4;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Category Tags */
.category-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: -4px;
}

.category-tag {
  color: var(--color-text-secondary);
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  white-space: nowrap;
}

/* Price and Rating Section */
.price-rating-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.price-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.current-price {
  color: #333333;
  font-weight: bold;
  font-size: 1.2rem;
}

/* Product Rating */
.product-rating {
  display: flex;
  align-items: center;
  gap: 6px;
}

.stars {
  display: flex;
  gap: 2px;
}

.stars i {
  color: #ddd;
  font-size: 0.8rem;
}

.stars i.filled {
  color: #ffc107;
}

.rating-count {
  color: #666;
  font-size: 0.75rem;
}

/* Size Options */
.size-options {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  /* margin-bottom: 12px; */
}

.size-btn {
  padding: 6px 12px;
  border: 1px solid #ddd;
  background: #fcf8f3;
  color: #666;
  border-radius: 16px;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 40px;
  text-align: center;
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  min-height: 36px;
}

.size-btn:hover:not(:disabled),
.size-btn.active {
  background: var(--color-cta); /* Green active */
  color: white;
  border-color: var(--color-cta);
}

.size-btn:disabled {
  border-color: #ddd;
  color: #999;
  cursor: not-allowed;
  background: #f5f5f5;
}

/* Cart Section */
.cart-section {
  margin-top: auto;
  padding-top: 12px;
}

.add-to-cart-btn {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--color-cta);
  border-radius: 16px; /* Back to 16px */
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all 0.3s ease;
  background: #fbf9f3; /* Light background */
  color: #333333; /* Dark text */
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  min-height: 48px;
}

/* Cart Icons */
.cart-icon {
  width: 20px;
  height: 20px;
  /* Removed filter to keep original icon color */
}

.hover-icon {
  display: none;
}

.add-to-cart-btn:hover .default-icon {
  display: none;
}

.add-to-cart-btn:hover .hover-icon {
  display: block;
}

.add-to-cart-btn:hover:not(:disabled) {
  background: var(--color-cta);
  color: white;
  transform: translateY(-1px);
}

.add-to-cart-btn.in-cart {
  background: #28a745;
  color: white;
  border-color: #28a745;
}

.add-to-cart-btn.loading {
  background: #9ccb3b;
  cursor: not-allowed;
  color: white;
}

/* Load More Section */
.load-more-section {
  display: flex;
  justify-content: center;
  margin-top: 40px;
  padding: 20px;
}

.load-more-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  background: #fcf8f3;
  color: var(--color-cta);
  border: 2px solid var(--color-cta);
  padding: 14px 28px;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.load-more-btn:hover:not(:disabled) {
  background: var(--color-cta);
  color: white;
  transform: translateY(-2px);
}

.load-more-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: #e9ecef;
  border-color: #e9ecef;
  color: #adb5bd;
}

/* Responsive Design */
@media (max-width: 1200px) {
  .product-grid.grid-4 {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (max-width: 1024px) {
  .shop-container {
    padding: 16px;
  }

  .desktop-filter-header {
    display: none;
  }

  .category-nav {
    gap: 20px;
    padding: 15px;
  }

  .category-btn {
    font-size: 14px;
  }

  .main-layout {
    display: block; /* Stack sidebar and content on tablet/mobile */
  }

  /* Hide sidebar on tablet/mobile unless triggered */
  .sidebar {
    display: none !important;
    width: 100% !important;
    margin-right: 0 !important;
  }

  .sidebar.mobile-active {
    display: block !important;
  }

  .product-grid,
  .product-grid.grid-3,
  .product-grid.grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }

  .results-header h2 {
    font-size: 1.5rem;
  }

  .results-count-desktop {
    display: none;
  }
}

@media (max-width: 768px) {
  .shop-container {
    padding: 12px;
  }

  .mobile-filter-header {
    display: flex;
  }

  .category-nav {
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
  }

  .sidebar.mobile-active {
    display: block !important;
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 80% !important;
    max-width: 300px;
    background: white !important;
    z-index: 1001;
    overflow-y: auto;
    padding: 20px;
    margin: 0 !important;
  }

  .sidebar-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
  }

  .sidebar-overlay.active {
    display: block;
  }

  .sidebar-header {
    display: flex;
  }
}
